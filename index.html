<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MapOps Daily Dashboard</title>
  <style>
    :root{
      --bg:#05070a;
      --panel:#0b1118;
      --panel2:#0a0f15;
      --text:#e7eef7;
      --muted:#93a4b7;
      --line:#162131;
      --accent:#39d0c6;
      --good:#43e08f;
      --warn:#ffd166;
      --bad:#ff5c7a;
      --shadow: 0 10px 30px rgba(0,0,0,.35);
      --radius: 16px;
    }
    *{ box-sizing:border-box; }
    body{
      margin:0;
      background: radial-gradient(900px 600px at 15% 10%, rgba(57,208,198,.15), transparent 50%),
                  radial-gradient(800px 500px at 85% 20%, rgba(67,224,143,.10), transparent 55%),
                  linear-gradient(180deg, var(--bg), #04060a 65%);
      color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      padding:24px;
    }
    header{
      display:flex;
      gap:16px;
      align-items:flex-start;
      justify-content:space-between;
      flex-wrap:wrap;
      margin-bottom:16px;
    }
    .title{
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    h1{
      margin:0;
      font-size:22px;
      letter-spacing:.2px;
    }
    .sub{
      color:var(--muted);
      font-size:13px;
      line-height:1.3;
    }
    .pillbar{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .pill{
      background:rgba(255,255,255,.04);
      border:1px solid var(--line);
      padding:8px 10px;
      border-radius:999px;
      font-size:12px;
      color:var(--muted);
      display:flex;
      gap:8px;
      align-items:center;
    }
    .pill strong{ color:var(--text); font-weight:600; }
    .btn{
      cursor:pointer;
      background: rgba(57,208,198,.14);
      border: 1px solid rgba(57,208,198,.45);
      color: var(--text);
      padding:9px 12px;
      border-radius:12px;
      font-size:12px;
      box-shadow: var(--shadow);
      transition: transform .08s ease;
      user-select:none;
    }
    .btn:active{ transform: translateY(1px); }
    .btn.secondary{
      background: rgba(255,255,255,.04);
      border:1px solid var(--line);
      box-shadow:none;
      color:var(--muted);
    }

    .grid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:16px;
      align-items:start;
    }
    @media (max-width: 980px){
      .grid{ grid-template-columns:1fr; }
    }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid var(--line);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding:16px;
    }
    .card h2{
      margin:0 0 10px;
      font-size:14px;
      letter-spacing:.2px;
    }
    .row{
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
    }
    .kpi-grid{
      display:grid;
      grid-template-columns: repeat(4, minmax(0, 1fr));
      gap:10px;
      margin-top:10px;
    }
    @media (max-width: 980px){
      .kpi-grid{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
    }
    .kpi{
      background: rgba(0,0,0,.25);
      border:1px solid rgba(255,255,255,.06);
      border-radius:14px;
      padding:12px;
      min-height:74px;
      display:flex;
      flex-direction:column;
      justify-content:space-between;
      gap:6px;
    }
    .kpi .label{
      font-size:12px;
      color:var(--muted);
      display:flex;
      justify-content:space-between;
      gap:8px;
    }
    .kpi .value{
      font-size:18px;
      font-weight:700;
      letter-spacing:.2px;
    }
    .kpi .mini{
      font-size:11px;
      color:var(--muted);
    }

    .progress-wrap{
      margin-top:12px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    .bar{
      height:12px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.08);
      border-radius:999px;
      overflow:hidden;
    }
    .bar > div{
      height:100%;
      width:0%;
      background: linear-gradient(90deg, rgba(57,208,198,.95), rgba(67,224,143,.95));
      border-radius:999px;
      transition: width .25s ease;
    }
    .bar-meta{
      display:flex;
      justify-content:space-between;
      gap:10px;
      font-size:12px;
      color:var(--muted);
    }

    .inputs{
      margin-top:12px;
      display:grid;
      grid-template-columns: repeat(2, minmax(0,1fr));
      gap:10px;
    }
    @media (max-width: 560px){
      .inputs{ grid-template-columns:1fr; }
    }
    .field{
      display:flex;
      flex-direction:column;
      gap:6px;
      background: rgba(0,0,0,.22);
      border:1px solid rgba(255,255,255,.06);
      border-radius:14px;
      padding:10px;
    }
    label{
      font-size:12px;
      color:var(--muted);
    }
    input[type="number"], input[type="text"]{
      width:100%;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      color: var(--text);
      padding:10px 10px;
      border-radius:12px;
      outline:none;
      font-size:14px;
    }
    input[type="text"]{ font-size:13px; }
    .hint{
      font-size:11px;
      color:var(--muted);
      line-height:1.3;
    }

    .schedule{
      display:flex;
      flex-direction:column;
      gap:10px;
      margin-top:6px;
    }
    .block{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding:10px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.06);
      background: rgba(0,0,0,.20);
    }
    .time{
      min-width:112px;
      font-size:12px;
      color:var(--muted);
      padding-top:2px;
    }
    .block h3{
      margin:0;
      font-size:13px;
      letter-spacing:.2px;
    }
    .block p{
      margin:4px 0 0;
      color:var(--muted);
      font-size:12px;
      line-height:1.35;
    }
    .checks{
      margin-top:10px;
      display:flex;
      flex-direction:column;
      gap:10px;
    }
    .check{
      display:flex;
      gap:10px;
      align-items:flex-start;
      padding:10px;
      border-radius:14px;
      border:1px solid rgba(255,255,255,.06);
      background: rgba(0,0,0,.20);
    }
    .check input{ margin-top:2px; }
    .check .text{
      display:flex;
      flex-direction:column;
      gap:3px;
    }
    .check .text strong{ font-size:13px; }
    .check .text span{ color:var(--muted); font-size:12px; line-height:1.35; }
    .status{
      margin-left:auto;
      font-size:11px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(255,255,255,.03);
      color:var(--muted);
      white-space:nowrap;
    }
    .status.good{
      border-color: rgba(67,224,143,.35);
      background: rgba(67,224,143,.10);
      color: rgba(179,255,218,.95);
    }
    .status.warn{
      border-color: rgba(255,209,102,.35);
      background: rgba(255,209,102,.10);
      color: rgba(255,239,192,.95);
    }
    .status.bad{
      border-color: rgba(255,92,122,.35);
      background: rgba(255,92,122,.10);
      color: rgba(255,192,205,.95);
    }

    .notes{
      margin-top:10px;
      display:flex;
      flex-direction:column;
      gap:8px;
    }
    textarea{
      width:100%;
      min-height:120px;
      resize:vertical;
      background: rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.08);
      color: var(--text);
      padding:10px;
      border-radius:14px;
      outline:none;
      font-size:13px;
      line-height:1.4;
    }
    .footer{
      margin-top:16px;
      color:var(--muted);
      font-size:12px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      flex-wrap:wrap;
    }
    a{ color: rgba(57,208,198,.95); text-decoration:none; }
    a:hover{ text-decoration:underline; }
  </style>
</head>

<body>
  <header>
    <div class="title">
      <h1>MapOps Daily Dashboard</h1>
      <div class="sub">
        Built for Q1 pipeline. Day runs 5:30am to 2:00pm. Family break 7:00 to 8:00. Pickup at 2:30pm.
      </div>
    </div>

    <div class="pillbar">
      <div class="pill">Date: <strong id="today"></strong></div>
      <div class="pill">Outbound focus: <strong>High</strong></div>
      <button class="btn secondary" id="resetDayBtn">Reset today</button>
      <button class="btn" id="rolloverBtn">New day</button>
    </div>
  </header>

  <div class="grid">
    <section class="card">
      <h2>Outbound Scoreboard (Q1 mode)</h2>

      <div class="kpi-grid">
        <div class="kpi">
          <div class="label">
            <span>New DMs sent</span>
            <span class="mini" id="targetDmsLabel"></span>
          </div>
          <div class="value" id="kpiDms">0</div>
          <div class="mini" id="dmsStatus"></div>
        </div>

        <div class="kpi">
          <div class="label">
            <span>Follow ups</span>
            <span class="mini" id="targetFupsLabel"></span>
          </div>
          <div class="value" id="kpiFups">0</div>
          <div class="mini" id="fupsStatus"></div>
        </div>

        <div class="kpi">
          <div class="label">
            <span>Replies</span>
            <span class="mini">Goal: 2+</span>
          </div>
          <div class="value" id="kpiReplies">0</div>
          <div class="mini" id="repliesStatus"></div>
        </div>

        <div class="kpi">
          <div class="label">
            <span>Calls booked</span>
            <span class="mini">Goal: 1</span>
          </div>
          <div class="value" id="kpiCalls">0</div>
          <div class="mini" id="callsStatus"></div>
        </div>
      </div>

      <div class="progress-wrap">
        <div class="bar-meta">
          <div>Daily Outbound Progress</div>
          <div id="progressText">0%</div>
        </div>
        <div class="bar"><div id="progressFill"></div></div>
        <div class="hint">
          Progress is weighted toward outbound: New DMs 50%, Follow ups 25%, Replies 15%, Calls booked 10%.
        </div>
      </div>

      <div class="inputs">
        <div class="field">
          <label for="dms">New DMs sent</label>
          <input id="dms" type="number" min="0" step="1" />
          <div class="hint">Q1 default target: 15. Quality only.</div>
        </div>

        <div class="field">
          <label for="fups">Follow ups</label>
          <input id="fups" type="number" min="0" step="1" />
          <div class="hint">Q1 default target: 8. Move conversations forward.</div>
        </div>

        <div class="field">
          <label for="replies">Replies received</label>
          <input id="replies" type="number" min="0" step="1" />
          <div class="hint">Replies are leading indicators. Track them.</div>
        </div>

        <div class="field">
          <label for="calls">Calls booked</label>
          <input id="calls" type="number" min="0" step="1" />
          <div class="hint">Even 1 booked call changes the week.</div>
        </div>

        <div class="field">
          <label for="hotLead">Today’s hottest lead</label>
          <input id="hotLead" type="text" placeholder="Company or person name" />
          <div class="hint">Keep one name front and center.</div>
        </div>

        <div class="field">
          <label for="nextMove">Next best move</label>
          <input id="nextMove" type="text" placeholder="What is the next action?" />
          <div class="hint">Example: send demo link, ask for example territory, book 15 min chat.</div>
        </div>
      </div>

      <div class="notes">
        <h2 style="margin-top:8px;">Notes</h2>
        <textarea id="notes" placeholder="Quick notes, objections, follow-up reminders, post ideas"></textarea>
      </div>
    </section>

    <aside class="card">
      <h2>Daily Schedule (built for your constraints)</h2>
      <div class="schedule" id="schedule">
        <div class="block">
          <div class="time">5:30 to 5:45</div>
          <div>
            <h3>Start up</h3>
            <p>Scan notifications, write top 3 wins, pick the one outbound theme for the day.</p>
          </div>
        </div>

        <div class="block">
          <div class="time">5:45 to 7:00</div>
          <div>
            <h3>Outbound power block</h3>
            <p>New DMs, follow ups, and one demo send. Pipeline first.</p>
          </div>
        </div>

        <div class="block">
          <div class="time">7:00 to 8:00</div>
          <div>
            <h3>Family break</h3>
            <p>Hard stop. This protects the rest of the day.</p>
          </div>
        </div>

        <div class="block">
          <div class="time">8:00 to 9:30</div>
          <div>
            <h3>Map production</h3>
            <p>Build one thing: a demo map, template, or improvement that supports outbound.</p>
          </div>
        </div>

        <div class="block">
          <div class="time">9:30 to 10:00</div>
          <div>
            <h3>Reset</h3>
            <p>Walk, coffee, no scrolling.</p>
          </div>
        </div>

        <div class="block">
          <div class="time">10:00 to 11:00</div>
          <div>
            <h3>Visibility</h3>
            <p>One post or one visual. Keep it human. Show the map.</p>
          </div>
        </div>

        <div class="block">
          <div class="time">11:00 to 12:00</div>
          <div>
            <h3>Ops and leverage</h3>
            <p>Templates, process, packaging, systems that make tomorrow easier.</p>
          </div>
        </div>

        <div class="block">
          <div class="time">12:00 to 1:00</div>
          <div>
            <h3>Learning or strategy</h3>
            <p>Directed learning. Improve messaging, datasets, or demo ideas.</p>
          </div>
        </div>

        <div class="block">
          <div class="time">1:00 to 1:45</div>
          <div>
            <h3>Close out</h3>
            <p>Final follow ups, prep tomorrow, queue a draft.</p>
          </div>
        </div>

        <div class="block">
          <div class="time">1:45 to 2:00</div>
          <div>
            <h3>Shutdown</h3>
            <p>Write the win, write the improvement, close laptop.</p>
          </div>
        </div>
      </div>

      <h2 style="margin-top:16px;">Daily Checklist</h2>
      <div class="checks" id="checks">
        <div class="check">
          <input type="checkbox" data-key="chk_outbound" />
          <div class="text">
            <strong>Outbound done</strong>
            <span>Hit your DM and follow-up targets, or explain why in notes.</span>
          </div>
          <div class="status" data-status="chk_outbound">Not started</div>
        </div>

        <div class="check">
          <input type="checkbox" data-key="chk_demo" />
          <div class="text">
            <strong>One demo asset created</strong>
            <span>Map screenshot, mini writeup, or a shareable link.</span>
          </div>
          <div class="status" data-status="chk_demo">Not started</div>
        </div>

        <div class="check">
          <input type="checkbox" data-key="chk_visibility" />
          <div class="text">
            <strong>Visibility shipped</strong>
            <span>Post, comment streak, or a visual published.</span>
          </div>
          <div class="status" data-status="chk_visibility">Not started</div>
        </div>

        <div class="check">
          <input type="checkbox" data-key="chk_ops" />
          <div class="text">
            <strong>One leverage improvement</strong>
            <span>Template, message, workflow, or website improvement.</span>
          </div>
          <div class="status" data-status="chk_ops">Not started</div>
        </div>

        <div class="check">
          <input type="checkbox" data-key="chk_shutdown" />
          <div class="text">
            <strong>Shutdown ritual</strong>
            <span>One win, one fix, set tomorrow’s top 3.</span>
          </div>
          <div class="status" data-status="chk_shutdown">Not started</div>
        </div>
      </div>

      <div class="footer">
        <div>Storage: local only (browser localStorage).</div>
        <div>Tip: Pin this tab. Treat it like your scoreboard.</div>
      </div>
    </aside>
  </div>

  <script>
    // Simple localStorage-backed daily dashboard
    const $ = (id) => document.getElementById(id);

    // Q1 outbound targets
    const TARGETS = {
      dms: 15,
      fups: 8,
      replies: 2,
      calls: 1
    };

    const WEIGHTS = {
      dms: 0.50,
      fups: 0.25,
      replies: 0.15,
      calls: 0.10
    };

    function pad(n){ return String(n).padStart(2,"0"); }
    function todayKey(){
      const d = new Date();
      return `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
    }

    function setTodayLabel(){
      const d = new Date();
      const opts = { weekday:"short", year:"numeric", month:"short", day:"numeric" };
      $("today").textContent = d.toLocaleDateString(undefined, opts);
    }

    function storageKey(){
      return `mapops_daily_${todayKey()}`;
    }

    function defaultState(){
      return {
        dms: 0,
        fups: 0,
        replies: 0,
        calls: 0,
        hotLead: "",
        nextMove: "",
        notes: "",
        checks: {
          chk_outbound: false,
          chk_demo: false,
          chk_visibility: false,
          chk_ops: false,
          chk_shutdown: false
        }
      };
    }

    function loadState(){
      const raw = localStorage.getItem(storageKey());
      if(!raw) return defaultState();
      try{
        const parsed = JSON.parse(raw);
        return { ...defaultState(), ...parsed, checks: { ...defaultState().checks, ...(parsed.checks || {}) } };
      }catch(e){
        return defaultState();
      }
    }

    function saveState(state){
      localStorage.setItem(storageKey(), JSON.stringify(state));
    }

    function clampProgress(x){
      if (isNaN(x)) return 0;
      return Math.max(0, Math.min(1, x));
    }

    function ratio(val, target){
      if (target <= 0) return 0;
      return clampProgress(val / target);
    }

    function computeProgress(s){
      const p =
        ratio(s.dms, TARGETS.dms) * WEIGHTS.dms +
        ratio(s.fups, TARGETS.fups) * WEIGHTS.fups +
        ratio(s.replies, TARGETS.replies) * WEIGHTS.replies +
        ratio(s.calls, TARGETS.calls) * WEIGHTS.calls;
      return clampProgress(p);
    }

    function statusChip(current, target){
      const r = ratio(current, target);
      if (r >= 1) return { text: "On target", cls: "good" };
      if (r >= 0.6) return { text: "In range", cls: "warn" };
      return { text: "Behind", cls: "bad" };
    }

    function render(state){
      // labels
      $("targetDmsLabel").textContent = `Target: ${TARGETS.dms}`;
      $("targetFupsLabel").textContent = `Target: ${TARGETS.fups}`;

      // KPIs
      $("kpiDms").textContent = state.dms;
      $("kpiFups").textContent = state.fups;
      $("kpiReplies").textContent = state.replies;
      $("kpiCalls").textContent = state.calls;

      // inputs
      $("dms").value = state.dms;
      $("fups").value = state.fups;
      $("replies").value = state.replies;
      $("calls").value = state.calls;
      $("hotLead").value = state.hotLead;
      $("nextMove").value = state.nextMove;
      $("notes").value = state.notes;

      // statuses
      const dmsChip = statusChip(state.dms, TARGETS.dms);
      $("dmsStatus").textContent = dmsChip.text;
      $("dmsStatus").style.color = dmsChip.cls === "good" ? "rgba(179,255,218,.95)" :
                                   dmsChip.cls === "warn" ? "rgba(255,239,192,.95)" :
                                   "rgba(255,192,205,.95)";

      const fupsChip = statusChip(state.fups, TARGETS.fups);
      $("fupsStatus").textContent = fupsChip.text;
      $("fupsStatus").style.color = fupsChip.cls === "good" ? "rgba(179,255,218,.95)" :
                                    fupsChip.cls === "warn" ? "rgba(255,239,192,.95)" :
                                    "rgba(255,192,205,.95)";

      const repliesChip = statusChip(state.replies, TARGETS.replies);
      $("repliesStatus").textContent = repliesChip.text;
      $("repliesStatus").style.color = repliesChip.cls === "good" ? "rgba(179,255,218,.95)" :
                                       repliesChip.cls === "warn" ? "rgba(255,239,192,.95)" :
                                       "rgba(255,192,205,.95)";

      const callsChip = statusChip(state.calls, TARGETS.calls);
      $("callsStatus").textContent = callsChip.text;
      $("callsStatus").style.color = callsChip.cls === "good" ? "rgba(179,255,218,.95)" :
                                     callsChip.cls === "warn" ? "rgba(255,239,192,.95)" :
                                     "rgba(255,192,205,.95)";

      // progress
      const prog = computeProgress(state);
      const pct = Math.round(prog * 100);
      $("progressFill").style.width = `${pct}%`;
      $("progressText").textContent = `${pct}%`;

      // checkboxes
      document.querySelectorAll('#checks input[type="checkbox"]').forEach(cb => {
        const key = cb.getAttribute("data-key");
        cb.checked = !!state.checks[key];
      });

      // status badges for checks
      document.querySelectorAll('[data-status]').forEach(el => {
        const key = el.getAttribute("data-status");
        const done = !!state.checks[key];
        el.classList.remove("good","warn","bad");
        if(done){
          el.textContent = "Done";
          el.classList.add("good");
        }else{
          el.textContent = "Not started";
          el.classList.add("bad");
        }
      });
    }

    function wire(state){
      const numberFields = ["dms","fups","replies","calls"];
      numberFields.forEach(id => {
        $(id).addEventListener("input", () => {
          state[id] = Math.max(0, parseInt($(id).value || "0", 10));
          saveState(state);
          render(state);
        });
      });

      ["hotLead","nextMove"].forEach(id => {
        $(id).addEventListener("input", () => {
          state[id] = $(id).value || "";
          saveState(state);
        });
      });

      $("notes").addEventListener("input", () => {
        state.notes = $("notes").value || "";
        saveState(state);
      });

      document.querySelectorAll('#checks input[type="checkbox"]').forEach(cb => {
        cb.addEventListener("change", () => {
          const key = cb.getAttribute("data-key");
          state.checks[key] = cb.checked;
          saveState(state);
          render(state);
        });
      });

      $("resetDayBtn").addEventListener("click", () => {
        const keepText = {
          hotLead: state.hotLead,
          nextMove: state.nextMove,
          notes: state.notes
        };
        const fresh = defaultState();
        fresh.hotLead = keepText.hotLead;
        fresh.nextMove = keepText.nextMove;
        fresh.notes = keepText.notes;
        state = fresh;
        saveState(state);
        render(state);
      });

      // "New day" creates tomorrow's key and swaps state
      $("rolloverBtn").addEventListener("click", () => {
        const d = new Date();
        d.setDate(d.getDate() + 1);
        const key = `${d.getFullYear()}-${pad(d.getMonth()+1)}-${pad(d.getDate())}`;
        const nextKey = `mapops_daily_${key}`;
        localStorage.setItem(nextKey, JSON.stringify(defaultState()));
        alert("Created a fresh state for tomorrow. Reload tomorrow to use it.");
      });
    }

    // boot
    setTodayLabel();
    let state = loadState();
    saveState(state);
    render(state);
    wire(state);
  </script>
</body>
</html>
